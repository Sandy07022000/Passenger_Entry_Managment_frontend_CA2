<h2>Update Passenger</h2>

<!-- Injection Fix: Restrict input to numeric IDs -->
<input
  [(ngModel)]="id"
  type="number"
  min="1"
  placeholder="Passenger ID"
  required
/>

<button (click)="search()">Load Details</button>

<div *ngIf="passenger">
  <h3>Edit Details:</h3>

  <!--Angular auto-escapes input bindings -->
  <input [(ngModel)]="passenger.fullName" placeholder="Full Name" required />
  <input [(ngModel)]="passenger.passportNumber" placeholder="Passport Number" required />
  <input [(ngModel)]="passenger.visaType" placeholder="Visa Type" />
  <input [(ngModel)]="passenger.nationality" placeholder="Nationality" />
  <input [(ngModel)]="passenger.arrivalDate" type="date" placeholder="Arrival Date" />
  <input [(ngModel)]="passenger.arrivalYear" type="number" placeholder="Arrival Year" min="1900" max="2100" />
  <input [(ngModel)]="passenger.purposeOfVisit" placeholder="Purpose Of Visit" />
  <input [(ngModel)]="passenger.officerId" type="number" placeholder="Officer ID" min="1" />

  <button (click)="update()">Update</button>
</div>

<!-- Minimal safe response (no raw JSON exposure) -->
<div *ngIf="response">
  <h3>{{ response }}</h3>
</div>
